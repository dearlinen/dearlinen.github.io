<!DOCTYPE html>
<html lang="zh-CN">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G25BKRSLZM"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-G25BKRSLZM');
</script>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="linen">
    
    <title>
        
            知识点备忘录 |
        
        Linen Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.jpg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"dearlinen.github.io","root":"/","language":"zh-CN"};
    KEEP.theme_config = {"toc":{"enable":false,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066CC","avatar":"/images/logo.jpg","favicon":"/images/logo.jpg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"求知若渴 虚心若愚"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":false,"preload":false},"code_copy":{"enable":false,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 月前","year":"%s 年前"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Linen Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">知识点备忘录</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/logo.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">linen</span>
                        
                            <span class="author-label">learner</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-08-10 14:11:42
    </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E5%A4%87%E5%BF%98%E5%BD%95/">备忘录</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>1.9k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>7 分钟</span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><ul>
<li>JavaScript中有基本类型(primitive values)和复杂类型（object）两种</li>
<li>基本类型有<code>字符串</code> <code>数字</code> <code>布尔</code> <code>null</code> <code>undefined</code> <code>symbol</code></li>
<li>复杂类型涵盖了对象和对象的子类型，包括<code>数组</code> <code>对象本身</code> <code>set</code> <code>Date</code>等等</li>
</ul>
<h3 id="基本类型的‘属性’"><a href="#基本类型的‘属性’" class="headerlink" title="基本类型的‘属性’"></a>基本类型的‘属性’</h3><ul>
<li>JavaScript中存在一些原生函数，如<code>String</code>，<code>Number</code>。这些函数也可以当作构造函数来使用，不过可能会发生意料之外的事情。如<code> typeof new String(&#39;1&#39;)</code>这段代码会返回<code>&#39;object&#39;</code></li>
<li>JavaScript中的基本类型可以调用方法，实现原理得益于<code>封装对象（object wrapper）</code>其运行过程如下：<ul>
<li>基本类型在调用方法时，会创建一个包含基本类型字面量的特殊对象，并且具有原型链上的所有方法</li>
<li>方法运行并返回结果</li>
<li>特殊对象被销毁，留下基本值</li>
</ul>
</li>
<li>对象都包含有一个名为<code>[[Class]]</code>的内部属性，这个属性无法直接访问，不过可以通过<code>Object.prototype.toString</code>来查看。如<code>Object.prototype.toString.call(/.+/)</code>会返回<code>&#39;[object RegExp]&#39;</code> 。基本类型也可以通过这个方法调用，这也得益于封装对象</li>
</ul>
<h3 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h3><ul>
<li>typeof运算符仅能准确判断部分基本类型，null不在此列，<a class="link"   target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#typeof_null" >这是一个bug<i class="fas fa-external-link-alt"></i></a> </li>
<li>instanceof可以判断复杂值的类型，本质是通过原型链查找该对象的构造函数</li>
</ul>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><ul>
<li><p>将一种值显式（类型）转换为另一种值称为显式类型转换，值被隐式的转换为另一种值称为隐式（类型）转换/强制（类型）转换。这两种转换的形式没有明确的界定，如果知晓规则，那么难懂的转换对你来说也是显示转换。</p>
</li>
<li><p>对象到基本类型转换是基于<code>ToPrimitive</code>的抽象操作来完成的，这个方法接收一个’<code>期望值</code>‘,标准中称之为<code>hint</code>。<code>hint</code>有三种情况，<code>stringm</code>，<code>number</code> ，<code>default</code>，依据<code>期望</code>的不同如果来确定转换结果。如<code>hint</code>为字符串则适用于字符串转换，如<code>alert函数</code>‘期望’一个字符串，接受到的参数就会被转为字符串。</p>
</li>
<li><p>为了进行基本类型转换，JavaScript会尝试调用三个方法</p>
<ul>
<li>调用<code>ToPrimitive</code>，并传递<code>hint</code></li>
<li>如果<code>hint</code>为<code>string</code>则执行<code>toString-&gt;valueOf</code></li>
<li><code>number</code>和<code>default</code>则是<code>valueOf-&gt;toString</code></li>
<li>如果<code>valueOf</code>和<code>toString</code>均不返回基本类型值，会产生<code>TypeError</code>错误。</li>
</ul>
</li>
<li><p><code>Symbol.toPrimitive</code>是现代JavaScript中内置的对象属性。<code>ToPrimitive</code>抽象操作现在改由<code>Symbol.toPrimitive</code>实现。它可以作为函数来调用，藉此可实现一些’奇技淫巧‘，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">0</span>,</span><br><span class="line">  [<span class="built_in">Symbol</span>.toPrimitive](hint) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(hint)    <span class="comment">//default number number</span></span><br><span class="line">      <span class="built_in">this</span>.a++;</span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">this</span>.a&gt;<span class="number">2</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">this</span>.a</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj==<span class="number">1</span> &amp;&amp; obj&gt;<span class="number">1</span> &amp;&amp; obj&lt;<span class="number">1</span> ); <span class="comment">//true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>从es5开始，<code>Object.creat</code>创建的对象的<code>prototype</code>属性值为<code>null</code>，所以它没有<code>valueOf</code>和<code>toString</code>方法</p>
<blockquote>
<p> 不同类型对象的valueOf()方法的返回值</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th>对象</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>Array</td>
<td>返回数组对象本身</td>
</tr>
<tr>
<td>Boolean</td>
<td>布尔值</td>
</tr>
<tr>
<td>Date</td>
<td>从1970年1月1日午夜开始计算的毫秒数</td>
</tr>
<tr>
<td>Function</td>
<td>函数本身</td>
</tr>
<tr>
<td>Number</td>
<td>数字值</td>
</tr>
<tr>
<td>Object</td>
<td>默认情况下返回对象本身</td>
</tr>
<tr>
<td>String</td>
<td>字符串值</td>
</tr>
<tr>
<td>Math,Erroe</td>
<td>无返回值</td>
</tr>
</tbody></table>
<ul>
<li><h3 id="ToString转换"><a href="#ToString转换" class="headerlink" title="ToString转换"></a>ToString转换</h3><ul>
<li>基本类型的转换操作为<code>null</code>转换为 <code>&#39;null&#39;</code>， <code>undefined</code>转换为 <code>&#39;undefined&#39;</code>， <code>true</code>转换为 <code>&#39;true&#39;</code></li>
<li>数字类型的转换规则与以上类似，不过极大值和极小值会用指数形式表现</li>
<li>普通对象的转换会调用<code>Object.prototype.toString</code>来进行转换，返回内部属性<code>[[class]]</code>的值。</li>
<li>数组的toString方法默认为将所有数组项字符串化，然后用<code>,</code>连接起来</li>
<li>JSON.stringify无法处理不安全的json值，如<code>undefined</code> <code>symbol</code> <code>function</code> 相互引用的对象等，在处理<code>undefined</code> <code>symbol</code> <code>function</code>时会返回<code>undefined</code>，处理相互引用的对象会报错。JSON.stringify在对象中遇到<code>undefined</code>、<code>function</code>和<code>symbol</code>时会将其自动忽略，在数组中会将其转换为<code>null</code>。</li>
</ul>
</li>
<li><h3 id="ToNumber转换"><a href="#ToNumber转换" class="headerlink" title="ToNumber转换"></a>ToNumber转换</h3><ul>
<li> 如果把非数字值用在数学运算里，就会发生<code>number</code>类型转换</li>
<li> 如<code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>%</code> <code>&gt;</code> <code>&gt;=</code> <code>&lt;</code> <code>&lt;=</code> <code>一元-（前置-）</code> <code>一元+（前置+）</code></li>
<li> <code>+</code> 运算符其实触发的是<code>default</code>的<code>hint</code>，因为它可能是数字加减，也可能是字符串的连字符，此运算符的结果取决于其右侧的值。<code>==</code>同样也是如此，因为它不比较运算符两侧值的类型</li>
<li>其中<code>true</code>转为1，<code>false</code>转为0，<code>undefined</code>转为NaN，<code>null</code>转为0，<code>&#39;&#39;</code>空字符串转为0<ul>
<li>例如：<code>+ []</code>,其步骤为：<ul>
<li> 为了将<code>[]</code>空数组字面量转为基本类型，调用<code>[].valueOf().toString()</code>，得到空字符串<code>&#39;&#39;</code>  </li>
<li> 最后将空字符串<code>&#39;&#39;</code>转为数字，得到0</li>
</ul>
</li>
</ul>
</li>
<li><h3 id="ToBoolean转换"><a href="#ToBoolean转换" class="headerlink" title="ToBoolean转换"></a>ToBoolean转换</h3></li>
<li>所有对象都是真值（truthy value） </li>
<li>对布尔值的转换只有两类<ol>
<li>可以转为false的值（falsy value）</li>
<li>其他被强制转换为true的值</li>
</ol>
</li>
<li>JavaScript规范了假值有<code>undefined</code> <code>null</code> <code>false</code> <code>+0</code> <code>-0</code> <code>NaN</code> <code>&#39;&#39;</code></li>
<li>从逻辑上看，除了假值之外的应该都是真值。但是JavaScript规范并没有对此明确定义。</li>
<li>实际上，浏览器中还存在<code>假值对象</code>，浏览器在某些特定情况下，创建了一些外来（exotic）值，这些就是“假值对象”。假值对象和普通对象看起来并无二致，但是进行类型转换时的结果为<code>false</code>。最常见的例子是<code>document.all</code>。</li>
<li>真值（truthy value）就是规范的假值列表以外的值。不考虑外部环境的情况下，<code>[]</code>， <code>&#123;&#125;</code>， <code>function()&#123;&#125;</code>都是真值。这和<code>ToPrimitive</code>相悖，但只能这么去记忆他的行为。像<code>typeof null === &#39;object&#39;</code>一样，这个<code>&#39;特性&#39;</code>可能会长期存在。</li>
</ul>
</li>
</ul>
<h3 id="声明变量"><a href="#声明变量" class="headerlink" title="声明变量"></a>声明变量</h3><ul>
<li>JavaScript中的变量是动态类型，在声明一个变量前不需要指定变量类型。所以JavaScript中的变量其实是没有类型的，只有值有类型，对变量的类型判断操作其实只是对它进行了一次<code>RHS</code>引用<br>: 待补充LHS和RHS详细说明</li>
<li>现代的JavaScript中有两种声明变量的操作符：<code>var</code>， <code>let</code> <ul>
<li><code>var</code>是旧时定义变量的操作符，现在不考虑兼容性的情况下应使用<code>let</code>，因为<code>var</code>有一些问题：<ol>
<li>其声明的变量只能是全局作用域，或函数作用域。使用<code>let</code>可以声明带有块级作用域和循环作用域的变量 </li>
<li>其声明的变量可以被重复声明。<code>let</code>则禁止重复声明一个同名的变量</li>
<li>其声明的变量在会被提升到所在作用域的顶层，即可以在声明语句之前被使用。<code>let</code>不存在这样的问题<br>: 待补充let的具体行为</li>
</ol>
</li>
</ul>
</li>
<li>有一种声明常量的操作符：<code>const</code><ul>
<li>实际其声明的常量如果是复杂类型，那么它只能保证这个变量中复杂类型的内存地址不被改变</li>
</ul>
</li>
<li>变量名<ul>
<li>变量名的规则如果考虑Unicode字符的情况下将会非常复杂，如果只考虑ASCII字符的话会简单得多，其规则如下<ol>
<li>变量名必须由英文字母或下划线(_)或美元符号($)开头，之后可以接上之前所说的任意字符  </li>
<li>变量名不可使用保留的关键字，如果使用，将会直接报错，或者出现奇怪的情况，如：<pre><code class="javascript">name = 5
typeof name //&#39;string&#39;
</code></pre>
<blockquote>
<p>在node中行为会有所不同，但是在大部分浏览器中的行为如此</p>
</blockquote>
</li>
</ol>
</li>
</ul>
</li>
</ul>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/library-and-framework/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">library_and_framework</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/config-workspace/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">工作环境配置备忘录</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">linen</a>
        </div>
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div >
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>








<div class="post-scripts">
    
</div>



</body>
</html>
